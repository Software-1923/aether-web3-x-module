"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.installGlobals = void 0;
const node_crypto_1 = __importDefault(require("node:crypto"));
const web_stream_1 = require("@remix-run/web-stream");
const base64_1 = require("./base64");
const fetch_1 = require("./fetch");
function installGlobals() {
    global.atob = base64_1.atob;
    global.btoa = base64_1.btoa;
    global.Blob = fetch_1.Blob;
    global.File = fetch_1.File;
    global.Headers = fetch_1.Headers;
    global.Request = fetch_1.Request;
    global.Response = fetch_1.Response;
    global.fetch = fetch_1.fetch;
    global.FormData = fetch_1.FormData;
    global.ReadableStream = web_stream_1.ReadableStream;
    global.WritableStream = web_stream_1.WritableStream;
    if (typeof global.crypto === "undefined") {
        global.crypto = node_crypto_1.default;
    }
}
exports.installGlobals = installGlobals;
/**
 * Credits:
 *   - https://github.com/remix-run/remix/blob/e77e2eb/packages/remix-node/globals.ts
 */
